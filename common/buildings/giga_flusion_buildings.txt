#Flusion capital
building_giga_flusion_capital = {
	capital = yes
	can_build = no
	can_demolish = yes
	can_be_ruined = no
	ai_weight = { weight = 0 }
	base_buildtime = 720
	potential = { always = no }
	position_priority = 0

	destroy_trigger = {
		exists = owner
		owner = {
			NOR = {
				is_country_type = primitive
				is_country_type = katzenartig_imperium
				has_country_flag = hke_federated
				has_origin = origin_katzen
			}
		}
	}
	planet_modifier = {
		job_politician_add = 2
		planet_max_districts_add = 1
		planet_housing_add = 10
		planet_amenities_add = 25
		planet_crime_add = -25
		planet_orbital_bombardment_damage = -0.1
	}
}

#Katzen capital
building_giga_katzen_capital = {
	capital = yes
	can_build = no
	can_demolish = no
	can_be_ruined = no
	ai_weight = { weight = 0 }
	potential = { always = no }
	position_priority = 0

	destroy_trigger = {
		exists = owner
		owner = {
			NOR = {
				is_country_type = katzenartig_imperium
				has_country_flag = hke_federated
				has_country_flag = katzen_civil_war_faction
				has_origin = origin_katzen
			}
		}
	}
	planet_modifier = {
		job_politician_add = 2
		planet_max_districts_add = 3
		district_farming_max = 1
		district_generator_max = 1
		district_mining_max = 1
		planet_housing_add = 20
		planet_amenities_add = 20
		planet_crime_add = -20
		planet_orbital_bombardment_damage = -0.1
	}
}

#Katzen housing
building_giga_flusion_home = {
	base_buildtime = 360

	category = amenity

	potential = { 
		always = no
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}

		upkeep = {
			energy = 3
		}
	}

	planet_modifier = {
		planet_amenities_add = 5
		planet_housing_add = 5
		planet_crime_add = -5
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		job_researcher_add = 2
		job_farmer_add = 1
		job_technician_add = 1
		job_miner_add = 1
		job_artisan_add = 1
		job_foundry_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		job_agri_drone_add = 1
		job_technician_drone_add = 1
		job_mining_drone_add = 1
		job_artisan_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_hive_empire = yes }
		}
		job_brain_drone_add = 1
		job_alloy_drone_add = 1
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_machine_empire = yes }
		}
		job_calculator_add = 1
		job_fabricator_add = 1
	}
}

#Katzen reactor
building_giga_flusion_fusion_power_plant = {
	base_buildtime = 360

	category = resource

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_reactor"
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		produces = {
			energy = 25
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = no }
		}
		job_technician_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		job_technician_drone_add = 2
	}
}

#Katzen habitability
building_giga_katzen_terraformer = {
	base_buildtime = 360

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_habitability"
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = 3
		}
	}

	planet_modifier = {
		pop_environment_tolerance = 0.20
	}
}

#Katzen rare resources
building_giga_katzen_synthetizer = {
	base_buildtime = 360

	category = manufacturing

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_rr"
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = 3
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_regular_empire = yes }
		}
		job_translucer_add = 2
		job_gas_refiner_add = 2
		job_chemist_add = 2
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		job_translucer_drone_add = 2
		job_gas_refiner_drone_add = 2
		job_chemist_drone_add = 2
	}
}

#Katzen foundry
building_katzen_foundry = {
	base_buildtime = @b2_time

	category = manufacturing

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_forge"
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = 3
		}
	}


	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	planet_modifier = {
		pop_environment_tolerance = -0.075
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_regular_empire = yes
					is_country_type = katzenartig_imperium
				}
			}
		}
		modifier = {
			job_foundry_add = 8
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
			}
		}
		modifier = {
			job_alloy_drone_add = 8
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			job_fabricator_add = 8
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				OR = {
					is_regular_empire = yes
					is_country_type = katzenartig_imperium
				}
			}
		}
		text = job_foundry_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_hive_empire = yes
			}
		}
		text = job_alloy_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		text = job_fabricator_effect_desc
	}
}

#Katzen theater
building_katzen_theater = {
	base_buildtime = @b2_time

	category = amenity

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_theater"
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = 3
		}
	}

	destroy_trigger = {
		exists = owner
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
			owner = {
				is_gestalt = yes
			}
		}
	}

	planet_modifier = {
		planet_amenities_add = 24
	}
	triggered_planet_modifier = {
		potential = {
			NOT = {
				owner = {
					has_origin = origin_katzen
				}
			}
		}
		pop_ethic_militarist_attraction_mult = 2
	}
	triggered_planet_modifier = {
		potential = {
			owner = {
				has_origin = origin_katzen
			}
		}
		pop_government_ethic_attraction = 2
	}
}

#Katzen science lab
building_katzen_science = {
	base_buildtime = @b2_time

	category = research

	potential = { 
		owner = {
			has_origin = origin_katzen 
		}
	}

	prerequisites = {
		"tech_katzen_lab"	
	}

	resources = {
		category = planet_buildings
		cost = {
			minerals = @b2_minerals
		}
		upkeep = {
			energy = 3
		}
	}

	destroy_trigger = {
		OR = {
			has_modifier = resort_colony
			has_modifier = slave_colony
		}
	}

	planet_modifier = {
		pop_happiness = -0.025
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				OR = {
					is_regular_empire = yes
					is_country_type = katzenartig_imperium
				}
			}
		}
		modifier = {
			job_researcher_add = 8
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_hive_empire = yes
			}
		}
		modifier = {
			job_brain_drone_add = 8
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		modifier = {
			job_calculator_add = 8
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				OR = {
					is_regular_empire = yes
					is_country_type = katzenartig_imperium
				}
			}
		}
		text = job_researcher_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_hive_empire = yes
			}
		}
		text = job_brain_drone_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
			}
		}
		text = job_calculator_effect_desc
	}
}
