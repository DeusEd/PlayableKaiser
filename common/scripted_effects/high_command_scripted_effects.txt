high_command_set_active = { #PARAM = leader key
	remove_country_flag = $PARAM$_inactive
	remove_country_flag = $PARAM$_dead
	set_country_flag = $PARAM$_active
}
high_command_set_inactive = { 
	remove_country_flag = $PARAM$_active
	remove_country_flag = $PARAM$_dead
	set_country_flag = $PARAM$_inactive
}
high_command_set_dead = { 
	remove_country_flag = $PARAM$_inactive
	remove_country_flag = $PARAM$_active
	set_country_flag = $PARAM$_dead
}

#The following effects are used to reduce the code needed to generate a leader
# Simply fire the effect with the desired species of the leader, portrait and the species class and the portrait will be available to be referenced with event_target:$LEADER$_portrait
# Example code for generating the Kayzoo himself

# create_katzen_high_command_leader = { AGE = 189 LEVEL = 5 ETHIC = MILITARIST GENDER = MALE LEADER_CLASS = ruler SPECIES = IMPK LEADER = kaiser SPECIES_CLASS = FLSN }

#Param List
# SPECIES: 										LEADER:								SPECIES_CLASS:								ETHIC
# IMPK = imperial Katzen (AKA kaiser) 			kaiser			katzmann			FLSN = Flusionian							miltarist	authoritarian
# KATZ = Katzen									lorisreal		lilith				FLSN_ROB = Flusonian Robot e.g. soulbots	pacifist	egalitarian
# SLBT = Soulbot								douclaw			novasum				FLSN_LIT = Flusionian Lithoid				xenophile	materialist
# HARN = Haranian								meolson			pawlbert			FLSN_MCH = Flusionian Machine				xenophobe	spiritualist
# LAUR = Laurnaise								steve			tarynn				
# SYMB = Symbies								wolfgang		birch				
# YINJ = Yinjites								dietrich		garf
# ZSPR = Zuspri									flopparnold		katzhaum
# KRNK = Kronks									itch			rex
# ROQU = Roqualian								gunfur			strobel
# MERC = Mercurians								katzsauffe		stron
# RAVK = Ravkans								kimitz			ungers
# ZSAN = Zousanians								koko			kaiser_pvz
# COOK = Cookians								meorwin			loris_cartoon
# DROG = Droog									pawllas			eloworm
# CYAT = Cyat									pawtton			growlzi
# 												neumeyer

# GENDER: (Not Case Sensitive AFAIK)			LEADER_CLASS						LEVEL										AGE
# male											admiral			governor			any integer value from 1-10					Any Integer Value >1
# female										general			scientist
# indeterminable

create_katzen_high_command_leader = {
	if = {
		limit = { NOT = { exists = event_target:katzen_high_command_event_country } }
		create_country = {
			name = "katzen_high_command_country_name"
			type = faction
			flag = {
				icon={
					category="domination"
					file="domination_8.dds"
				}
				background={
					category="backgrounds"
					file="v.dds"
				}
				colors={
					"blue"
					"dark_blue"
					"black"
					"null"
				}
			}
			effect = {
				save_global_event_target_as = katzen_high_command_event_country
			}
		}
	}
	event_target:katzen_high_command_event_country = {
		if = {
			limit = { NOT = { has_global_flag = $LEADER$_portrait_defined } }
			define_katzen_high_command_portrait = { SPECIES = $SPECIES$ LEADER = $LEADER$ CLASS = $SPECIES_CLASS$ }
		}
		create_leader = {
			class = $LEADER_CLASS$
			species = event_target:$LEADER$_portrait
			portrait = $LEADER$
			skill = $LEVEL$
			gender = $GENDER$
			event_leader = no
			background_ethic = ethic_$ETHIC$
			skip_background_generation = yes
			custom_description = $LEADER$_desc
			custom_catch_phrase = $LEADER$_catch_phrase
			immortal = no
			hide_age = no

			randomize_traits = no
			effect = {
				set_skill = $LEVEL$
				save_global_event_target_as = $LEADER$_leader
				set_leader_flag = renowned_leader
				set_leader_flag = katzen_high_command_leader
				set_leader_flag = $LEADER$_leader
				set_age = $AGE$
				add_trait = katzen_trait_elite
				IF = {
					limit = { host_has_dlc = "Galactic Paragons" }
					IF = {
						limit = { has_leader_flag = kaiser_leader }
						add_trait = leader_trait_ruler_kaiser_cattail
						add_trait = subclass_admiral_strategist
						add_trait = trait_ruler_charismatic_2
						add_trait = trait_ruler_military_pioneer
						add_trait = leader_trait_intimidator
						set_leader_flag = legendary_leader
						set_leader_flag = immune_to_negative_traits
						set_leader_flag = leader_death_events_blocked
					}
				}
				ELSE_IF = {
					limit = { NOT = { host_has_dlc = "Galactic Paragons" } }
				}
			}
		}
		event_target:$LEADER$_leader = {
			set_owner = root
			exile_leader_as = $LEADER$_exile
		}
	}
}

define_katzen_high_command_portrait = { 
	create_species = {
		name = LEADER_PORTRAIT_SPECIES_NAME_$SPECIES$
		plural = LEADER_PORTRAIT_SPECIES_PLURAL_$SPECIES$
		class = $CLASS$
		portrait = $LEADER$
		homeworld = event_target:gigaflusion
		effect = { 
			save_global_event_target_as = $LEADER$_portrait
			set_global_flag = $LEADER$_portrait_defined
			#save_global_event_target_as = portrait_species_pending_traits
			set_species_flag = $SPECIES$_traits

			if = { 
				limit = { has_species_flag = IMPK_traits } 
				change_species_characteristics = { 
					add_trait = trait_pc_continental_preference
					add_trait = trait_quick_learners
					add_trait = trait_talented
					add_trait = trait_venerable
				}
			}
			if = { 
				limit = { has_species_flag = KATZ_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = katzen_trait_martial_free
					add_trait = trait_adaptive
					add_trait = trait_quick_learners
					add_trait = trait_traditional
					add_trait = trait_sedentary
					add_trait = trait_wasteful
				}
			}
			if = { 
				limit = { has_species_flag = SLBT_traits }
				change_species_characteristics = {
					add_trait = trait_mechanical
					add_trait = trait_robot_enhanced_memory
					add_trait = trait_robot_learning_algorithms
					add_trait = trait_robot_luxurious
					add_trait = trait_robot_custom_made
				}
			}
			if = { 
				limit = { has_species_flag = HARN_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_intelligent
					add_trait = trait_decadent
				}
			}
			if = { 
				limit = { has_species_flag = LAUR_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_rapid_breeders
				}
			}
			if = { 
				limit = { has_species_flag = SYMB_traits }
				change_species_characteristics = { 
					add_trait = trait_pc_continental_preference
					add_trait = trait_strong
					add_trait = trait_nomadic	
				}
			}
			if = { 
				limit = { has_species_flag = YINJ_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_industrious
					add_trait = trait_sedentary
				}
			}
			if = { 
				limit = { has_species_flag = ZSPR_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_venerable
					add_trait = trait_adaptive
					add_trait = trait_strong
					add_trait = trait_slow_learners
					add_trait = trait_quarrelsome
					add_trait = trait_slow_learners
				}
			}
			if = {
				limit = { has_species_flag = KRNK_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_industrious
					add_trait = trait_rapid_breeders
					add_trait = trait_sedentary
					add_trait = trait_repugnant
				}
			}
			if = {
				limit = { has_species_flag = ROQU_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_intelligent
					add_trait = trait_charismatic
					add_trait = trait_resilient
					add_trait = trait_wasteful
				}
			}
			if = { 
				limit = { has_species_flag = MERC_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_intelligent
					add_trait = trait_sedentary
					add_trait = trait_wasteful
				}
			}
			if = { 
				limit = { has_species_flag = RAVK_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_intelligent
					add_trait = trait_sedentary
					add_trait = trait_wasteful
				}
			}
			if = {
				limit = { has_species_flag = ZSAN_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_talented
					add_trait = trait_traditional
					add_trait = trait_decadent
				}
			}
			if = { 
				limit = { has_species_flag = COOK_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_delicious
					add_trait = trait_erudite
					add_trait = trait_wasteful
				}
			}
			if = {
				limit = { has_species_flag = DROG_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_strong
				}
			}
			if = { 
				limit = { has_species_flag = CYAT_traits }
				change_species_characteristics = {
					add_trait = trait_pc_continental_preference
					add_trait = trait_strong
				}
			}
			remove_species_flag = $SPECIES$_trait
		}
	}
}
